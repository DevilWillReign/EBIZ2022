version: "3.9"
services:
  front:
    image: 'apprit.azurecr.io/${{ secrets.AzureAppService_ContainerUsername_f773627d499b43c694520aaae5cf917f }}/appritstore:${{ github.sha }}'
    container_name: appritstore_front
    depends_on:
      - api
    ports:
      - "8080:8080"
    environment:
      - REACT_APP_API_BASE_URL=http://backend:9000/api/v1
    links:
      - "api:backend"
  api:
    image: 'apprit.azurecr.io/${{ secrets.AzureAppService_ContainerUsername_f773627d499b43c694520aaae5cf917f }}/appritback:${{ github.sha }}'
    container_name: appritstore_back
    ports:
      - "9000:9000"
    environment:
      - API_PORT=9000